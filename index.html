<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <title>Persian Dictionary | Search in Persian or English</title>

    <!-- Meta Description -->
    <meta
      name="description"
      content="Persian Dictionary is your resource for finding words in both Persian and English. Search, filter by part of speech, and discover new words."
    />

    <!-- Meta Keywords -->
    <meta
      name="keywords"
      content="Persian dictionary, Persian to English, English to Persian, word search, language learning, part of speech filter, random words"
    />

    <!-- Open Graph for Social Media Sharing -->
    <meta
      property="og:title"
      content="Persian Dictionary | Search in Persian or English"
    />
    <meta
      property="og:description"
      content="Use the Persian Dictionary to find translations and definitions for words in Persian and English."
    />
    <meta
      property="og:image"
      content="Resources/Icons/android-chrome-512x512.png"
    />
    <meta property="og:url" content="https://osloandrew.github.io/Persian/" />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="Resources/Icons/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="Resources/Icons/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="Resources/Icons/favicon-16x16.png"
    />

    <!-- Google Fonts -->
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Serif:ital,wght@0,100..900&display=swap");
      @import url("https://fonts.googleapis.com/css2?family=Grenze+Gotisch:wght@100..900&display=swap");
      @import url("https://fonts.googleapis.com/css2?family=Noto+Serif+Persian:wght@100..900&display=swap");
      @import url("https://fonts.googleapis.com/css2?family=Bellefair&display=swap");
    </style>

    <!-- External Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>

    <!-- Font Awesome CDN -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <!-- Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-M5H81RF3DT"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-M5H81RF3DT");
    </script>
  </head>

  <body>
    <header>
      <h1 id="site-title" onclick="returnToLandingPage()">
        Persian Dictionary
      </h1>
      <p id="site-subtitle">Search in Persian or English</p>
    </header>

    <div id="sticky-header" class="hidden">
      <button id="back-button">← Back to Stories</button>
      <button id="toggle-english-btn" class="toggle-btn">Show English</button>
    </div>

    <main>
      <!-- Search container with full-width background -->
      <section id="search-container">
        <div id="search-container-inner">
          <!-- Grouped Selectors (Type and POS) -->
          <div class="selectors-wrapper">
            <!-- Words/Sentences Selector -->
            <div class="type-filter">
              <select
                id="type-select"
                aria-label="Search by words or sentences"
                onchange="handleTypeChange(this.value)"
              >
                <option value="words">Words</option>
                <option value="sentences">Sentences</option>
                <option value="stories">Stories</option>
                <option value="word-game">Word Game</option>
              </select>
              <i class="fas fa-chevron-down"></i>
            </div>

            <!-- POS Selector -->
            <div class="pos-filter">
              <select
                id="pos-select"
                onchange="search()"
                aria-label="Filter by part of speech"
              >
                <option value="">Word Class</option>
                <option value="noun">Noun</option>
                <option value="adjective">Adjective</option>
                <option value="verb">Verb</option>
                <option value="expression">Expression</option>
                <option value="adverb">Adverb</option>
                <option value="preposition">Preposition</option>
                <option value="numeral">Numeral</option>
                <option value="conjunction">Conjunction</option>
                <option value="interjection">Interjection</option>
                <option value="pronoun">Pronoun</option>
              </select>
              <i class="fas fa-chevron-down"></i>
            </div>

            <!-- Genre Selector -->
            <div
              class="genre-filter"
              id="genre-filter"
              aria-label="Filter by genre"
              style="display: none"
            >
              <select id="genre-select" onchange="handleGenreChange()">
                <option value="">Genre</option>
                <option value="biography">Biography</option>
                <option value="culture">Culture</option>
                <option value="dialogue">Dialogue</option>
                <option value="drama">Drama</option>
                <option value="fantasy">Fantasy</option>
                <option value="food">Food</option>
                <option value="health">Health</option>
                <option value="history">History</option>
                <option value="horror">Horror</option>
                <option value="language">Language</option>
                <option value="monologue">Monologue</option>
                <option value="philosophy">Philosophy</option>
                <option value="politics">Politics</option>
                <option value="psychology">Psychology</option>
                <option value="science">Science</option>
                <option value="science fiction">Science Fiction</option>
                <option value="technology">Technology</option>
                <option value="travel">Travel</option>
              </select>
              <i class="fas fa-chevron-down"></i>
            </div>

            <!-- Game-English Selector -->
            <div
              class="game-english-filter"
              id="game-english-filter"
              aria-label="Show or hide English"
              style="display: none"
            >
              <select id="game-english-select" onchange="toggleGameEnglish()">
                <option value="show-english">Show English</option>
                <option value="hide-english">Hide English</option>
              </select>
              <i class="fas fa-chevron-down"></i>
            </div>

            <!-- CEFR Level Selector -->
            <div class="cefr-filter">
              <select
                id="cefr-select"
                onchange="search()"
                aria-label="Filter by CEFR level"
              >
                <option value="">Level</option>
                <option value="A1">A1</option>
                <option value="A2">A2</option>
                <option value="B1">B1</option>
                <option value="B2">B2</option>
                <option value="C">C</option>
              </select>
              <i class="fas fa-chevron-down"></i>
              <i
                id="lock-icon"
                class="fas fa-lock-open"
                title="Toggle level lock"
                onclick="toggleLevelLock()"
              ></i>
            </div>
          </div>

          <!-- Grouped Search Bar and Random Button -->
          <div class="search-and-random-wrapper">
            <!-- Search Bar -->
            <div id="search-bar-wrapper" class="search-bar-wrapper">
              <input
                type="text"
                id="search-bar"
                placeholder=" "
                onkeydown="handleKey(event)"
                aria-label="Search for Persian or English words"
              />
              <button
                id="clear-btn"
                class="clear-btn"
                aria-label="Clear search field"
                onclick="clearInput()"
              >
                <i class="fas fa-xmark"></i>
              </button>
              <button
                id="search-btn"
                class="search-btn"
                aria-label="Search for the word"
                onclick="search()"
              >
                <i class="fas fa-search"></i>
              </button>
            </div>

            <!-- Random Button -->
            <button
              id="random-btn"
              class="random-btn"
              aria-label="Generate a random word"
              onclick="randomWord(),popChime.currentTime = 0, popChime.play()"
              title="Generate a random word"
            >
              <i class="fas fa-dice"></i>
            </button>
          </div>
        </div>
      </section>

      <div id="loading-spinner" class="spinner" style="display: none"></div>
      <!-- Moved outside the results-container -->
      <div id="landing-card" class="definition">
        <h2>
          Welcome to the <br />
          Persian Dictionary
        </h2>
        <p style="text-align: center">
          Explore Persian vocabulary interactively. <br />
          Click on one of the buttons below to get started.
        </p>

        <div class="landing-card-button-grid">
          <!-- Dictionary Search Button -->
          <div class="button-container">
            <img
              class="landing-card-image"
              src="Resources/Photos/words.svg"
              alt="Words"
            />
            <button class="landing-card-btn" onclick="selectType('words')">
              Dictionary Search
            </button>
            <p>Discover words and their meanings with detailed examples.</p>
          </div>

          <!-- Sentence Search Button -->
          <div class="button-container">
            <img
              class="landing-card-image"
              src="Resources/Photos/sentences.svg"
              alt="Sentences"
            />
            <button class="landing-card-btn" onclick="selectType('sentences')">
              Sentence Search
            </button>
            <p>Explore real sentences in context using your chosen words.</p>
          </div>

          <!-- Persian Stories Button -->
          <div class="button-container">
            <img
              class="landing-card-image"
              src="Resources/Photos/stories.svg"
              alt="Stories"
            />
            <button class="landing-card-btn" onclick="selectType('stories')">
              Persian Stories
            </button>
            <p>
              Immerse yourself in fiction and non-fiction to deepen your
              language skills.
            </p>
          </div>

          <!-- Word Game Button -->
          <div class="button-container">
            <img
              class="landing-card-image"
              src="Resources/Photos/word-game.svg"
              alt="Word Games"
            />
            <button class="landing-card-btn" onclick="selectType('word-game')">
              Word Game
            </button>
            <p>
              Master vocabulary with an interactive game that adapts to your
              skill level.
            </p>
          </div>

          <!-- Pronunciation Guide Button -->
          <div class="button-container">
            <img
              class="landing-card-image"
              src="Resources/Photos/pronunciation.svg"
              alt="Pronunciation"
            />
            <button
              class="landing-card-btn"
              id="toggle-pronunciation"
              onclick="togglePronunciationGuide()"
            >
              Pronunciation Guide
            </button>
            <p>Perfect your pronunciation by learning Persian sounds.</p>
          </div>

          <!-- Support Button -->
          <div class="button-container">
            <img
              class="landing-card-image"
              src="Resources/Photos/support.svg"
              alt="Support the Project"
            />
            <a
              href="https://www.buymeacoffee.com/afeinberg4l"
              target="_blank"
              rel="noopener noreferrer"
              style="text-decoration: none"
            >
              <button class="landing-card-btn">Support the Project</button>
            </a>
            <p>
              Help keep this resource free and growing — every little bit makes
              a difference!
            </p>
          </div>
        </div>

        <div class="pronunciation-wrapper hidden">
          <h3>Persian Pronunciation Guide for English Speakers</h3>
          <p>
            Persian is written in a modified Arabic script and has six vowel
            sounds and about thirty consonants. Several consonants have no
            direct English equivalent, and short vowels are often not written.
            This guide follows the pronunciation of
            <strong>Modern Iranian Persian</strong> (Tehrani standard), with
            occasional notes on
            <strong>Classical or Dari</strong> pronunciation. Examples are shown
            with Persian script, transliteration, and IPA.
          </p>

          <table class="pronunciation-table">
            <thead>
              <tr>
                <th>Persian Letter</th>
                <th>Pronunciation Symbol</th>
                <th>Example (Persian)</th>
                <th>Similar English Sound</th>
              </tr>
            </thead>
            <tbody>
              <!-- VOWELS -->
              <tr>
                <td data-label="Persian Letter">َ (zammeh a)</td>
                <td data-label="Pronunciation Symbol">/æ/</td>
                <td data-label="Example (Persian)">مَن [mæn] “I”</td>
                <td data-label="Similar English Sound">Like “a” in “cat”</td>
              </tr>
              <tr>
                <td data-label="Persian Letter">ِ (kasreh e)</td>
                <td data-label="Pronunciation Symbol">/e/</td>
                <td data-label="Example (Persian)">دِل [del] “heart”</td>
                <td data-label="Similar English Sound">Like “e” in “bed”</td>
              </tr>
              <tr>
                <td data-label="Persian Letter">ُ (żammeh o)</td>
                <td data-label="Pronunciation Symbol">/o/</td>
                <td data-label="Example (Persian)">خُشک [xoʃk] “dry”</td>
                <td data-label="Similar English Sound">Like “o” in “story”</td>
              </tr>
              <tr>
                <td data-label="Persian Letter">ی</td>
                <td data-label="Pronunciation Symbol">/iː/</td>
                <td data-label="Example (Persian)">سیب [siːb] “apple”</td>
                <td data-label="Similar English Sound">Like “ee” in “see”</td>
              </tr>
              <tr>
                <td data-label="Persian Letter">و</td>
                <td data-label="Pronunciation Symbol">/uː/ or /v/ (context)</td>
                <td data-label="Example (Persian)">
                  نور [nuːr] “light” / ولی [væli] “but”
                </td>
                <td data-label="Similar English Sound">
                  “oo” in “food” / “v” in “very”
                </td>
              </tr>
              <tr>
                <td data-label="Persian Letter">آ</td>
                <td data-label="Pronunciation Symbol">/ɒː/</td>
                <td data-label="Example (Persian)">مادر [mɒːdær] “mother”</td>
                <td data-label="Similar English Sound">Like “a” in “father”</td>
              </tr>

              <!-- CONSONANTS -->
              <tr>
                <td data-label="Persian Letter">خ</td>
                <td data-label="Pronunciation Symbol">/x/</td>
                <td data-label="Example (Persian)">خوب [xuːb] “good”</td>
                <td data-label="Similar English Sound">
                  Scottish “loch” (no English equivalent)
                </td>
              </tr>
              <tr>
                <td data-label="Persian Letter">غ / ق</td>
                <td data-label="Pronunciation Symbol">
                  /ɣ/ (Tehran) or /q/ (Classical)
                </td>
                <td data-label="Example (Persian)">غذا [ɣæˈzɒː] “food”</td>
                <td data-label="Similar English Sound">
                  French “r” or Arabic “ghayn”
                </td>
              </tr>
              <tr>
                <td data-label="Persian Letter">ع</td>
                <td data-label="Pronunciation Symbol">
                  [ʔ] or [ʕ] (often silent)
                </td>
                <td data-label="Example (Persian)">عشق [ʔeʃq] “love”</td>
                <td data-label="Similar English Sound">
                  Glottal stop (“uh-oh”)
                </td>
              </tr>
              <tr>
                <td data-label="Persian Letter">ر</td>
                <td data-label="Pronunciation Symbol">/ɾ/ or /r/</td>
                <td data-label="Example (Persian)">رنگ [ræŋ] “color”</td>
                <td data-label="Similar English Sound">
                  Single tap like Spanish “pero”
                </td>
              </tr>
              <tr>
                <td data-label="Persian Letter">ش / س</td>
                <td data-label="Pronunciation Symbol">/ʃ/ vs /s/</td>
                <td data-label="Example (Persian)">
                  شب [ʃab] “night” / سَر [sær] “head”
                </td>
                <td data-label="Similar English Sound">
                  “sh” in “shoe” vs “s” in “see”
                </td>
              </tr>
              <tr>
                <td data-label="Persian Letter">ژ</td>
                <td data-label="Pronunciation Symbol">/ʒ/</td>
                <td data-label="Example (Persian)">ژاله [ʒɒːle] “dew”</td>
                <td data-label="Similar English Sound">“s” in “measure”</td>
              </tr>
              <tr>
                <td data-label="Persian Letter">چ</td>
                <td data-label="Pronunciation Symbol">/tʃ/</td>
                <td data-label="Example (Persian)">چای [tʃɒːj] “tea”</td>
                <td data-label="Similar English Sound">“ch” in “chair”</td>
              </tr>
              <tr>
                <td data-label="Persian Letter">ج</td>
                <td data-label="Pronunciation Symbol">/dʒ/</td>
                <td data-label="Example (Persian)">جام [dʒɒːm] “cup”</td>
                <td data-label="Similar English Sound">“j” in “jam”</td>
              </tr>
              <tr>
                <td data-label="Persian Letter">ق / غ distinction</td>
                <td data-label="Pronunciation Symbol">merged /ɣ/ (modern)</td>
                <td data-label="Example (Persian)">طاق [tɒːɣ] “arch”</td>
                <td data-label="Similar English Sound">
                  Voiced “kh” sound deep in the throat
                </td>
              </tr>
            </tbody>
          </table>

          <h4>Stress in Persian</h4>
          <p>
            In Modern Persian, stress normally falls on the
            <strong>last syllable</strong> of a word, except for many verb forms
            and some common words (e.g. <strong>مادر</strong> [ˈmɒːdær]). Stress
            is not shown in writing and is less contrastive than in English.
          </p>

          <h4>Dialect Notes at a Glance</h4>
          <p>
            <strong>Tehrani Persian:</strong> Standard in Iran; /ɣ/ and /q/
            merged; short vowels more centralized.<br />
            <strong>Dari Persian:</strong> Spoken in Afghanistan; keeps clearer
            /a/ and /o/ contrasts; more rolled /r/.<br />
            <strong>Tajik Persian:</strong> Written in Cyrillic; final vowels
            more open; /w/ sound for some “v”.<br />
            <strong>Classical Persian:</strong> Older literary standard;
            distinct /q/ and /ɣ/; longer vowel durations.
          </p>

          <h4>Helpful Symbols and Conventions</h4>
          <p>
            IPA brackets [ ] show exact sounds. Slashes / / show phonemes. Short
            vowels (a, e, o) are usually omitted in writing and must be learned
            from context. Persian letters with dots (ب پ ت ث ج چ...) mark
            distinct sounds, and three letters (پ چ ژ) are unique to Persian and
            not found in Arabic.
          </p>
        </div>
      </div>
      <section id="story-viewer" style="display: none">
        <div id="story-content"></div>
      </section>
      <section id="results-container">
        <ul id="stories" class="stories-list"></ul>
      </section>
    </main>

    <audio id="audio-player" style="display: none" controls></audio>

    <footer>
      <div class="links">
        <a
          href="https://www.linkedin.com/in/afeinberg1/"
          target="_blank"
          rel="noopener noreferrer"
          class="linkedin-btn"
        >
          <img
            src="Resources/Icons/linkedin-icon.png"
            alt="LinkedIn Logo"
            class="linkedin-icon"
          /><span>Connect with me on LinkedIn</span>
        </a>
        <a href="https://www.buymeacoffee.com/afeinberg4l" class="coffee-btn">
          <img
            src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=afeinberg4l&button_colour=0d3a69&font_colour=ffffff&font_family=Lato&outline_colour=ffffff&coffee_colour=FFDD00"
            class="coffee-img"
          />
        </a>

        <!-- Site switcher -->
        <select
          id="site-switcher"
          aria-label="Go to another site"
          style="
            background: #fff;
            border: 1px solid #052242;
            border-radius: 6px;
            cursor: pointer;
            font: inherit;
            font-size: 12px;
            letter-spacing: 0.3px;
            padding: 5px;
            text-transform: uppercase;
          "
        >
          <option value="">Other Languages</option>
          <option value="croatian">Croatian</option>
          <option value="german">German</option>
          <option value="hebrew">Persian</option>
          <option value="italian">Italian</option>
          <option value="japanese">Japanese</option>
          <option value="latin">Latin</option>
          <option value="norwegian">Norwegian</option>
          <option value="persian">Persian</option>
          <option value="spanish">Spanish</option>
          <option value="thai">Thai</option>
        </select>
      </div>
      <p class="copyright">© 2025 Persian Dictionary</p>
    </footer>
    <script>
      // Language site switcher -> navigates to https://osloandrew.github.io/{slug}/
      document.addEventListener("DOMContentLoaded", () => {
        const switcher = document.getElementById("site-switcher");
        if (!switcher) return;

        // Always start on the default (blank) option
        switcher.value = "";

        switcher.addEventListener("change", () => {
          const slug = switcher.value;
          if (!slug) return;
          // Always go to the root-level language folder
          location.href = `${location.origin}/${slug}/`;
        });
      });
    </script>
    <script src="noRandom.js" defer></script>
    <script src="scripts.js" defer></script>
    <script src="wordGame.js" defer></script>
    <script src="stories.js" defer></script>
    <script src="pronunciation.js"></script>
    <script src="https://unpkg.com/wavesurfer.js"></script>
    <script src="https://unpkg.com/meyda/dist/web/meyda.min.js"></script>
  </body>
</html>
